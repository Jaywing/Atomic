{% from 'macros/helpers.html' import sprite %}


{% macro navItem(id, title, active='index', ready=false) %}
  <li class="Menu-item{% if id == active %} is-active{% endif %}">
    <a{% if ready %} href="{{id}}.html" class="Menu-link"{% else %} class="Menu-link textMuted"{% endif %}>{{title}}</a>
  </li>
{% endmacro %}

<nav data-module="Sticky">

  <ul class="Menu Menu--vertical">

    {% for cat in docs_pages %}

      {% if cat.section == sectionid %}

        {% if cat.category != "" %}
          <li class="Menu-item">
            <strong class="Menu-title">{{ cat.category }}</strong>
            {% if cat.items %}
              <ul class="Menu Menu--vertical Menu--flush">
                {% for comp in cat.items %}
                  {% if comp.section == sectionid %}
                    {{navItem(comp.id, comp.title, pageid, comp.ready)}}
                  {% endif %}
                {% endfor %}
              </ul>
            {% endif %}
          </li>
        {% endif %}

      {% endif %}

    {% endfor %}

  </ul>
</nav>
